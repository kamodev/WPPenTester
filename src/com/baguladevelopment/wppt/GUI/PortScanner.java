package com.baguladevelopment.wppt.GUI;

// Include all the pacckages needed for this class
import com.baguladevelopment.wppt.ProgConfiguration;
import java.io.IOException;
import java.net.*;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JInternalFrame;
        
public class PortScanner extends JInternalFrame
{
    // All the private variables
    private ProgConfiguration m_Config;
    
    
    // Constructor
    public PortScanner()
    {   
        this.closable = true;
        this.title = "Port Scanner";
        this.setSize(400, 400);
        this.setVisible(true);
    }
        
    // Scan the server for open ports
    public void scan() 
    {
        // TODO: Add the scan function
        isPortActive("127.0.0.1", 80);
    }
    
    //    Check to see if the port is active
    private boolean isPortActive(String server, int port)
    {
        
        boolean isActive = false;
        
        // Private method objects
        Socket skt = null;
        
        // Try to connect to port on the target machine
        try 
        {
            skt = new Socket(server, port);
            System.out.println("Port " + port + " is active");
            skt.close();   
        } 
        catch(Exception ex)
        {
            System.out.println("Port " + port + " is not active");
        }       
        
        return isActive;
    }
}
