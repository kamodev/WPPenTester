package com.baguladevelopment.wppt.GUI;

// Include all the pacckages needed for this class
import java.net.*;
import javax.swing.JInternalFrame;

public class PortScanner extends JInternalFrame
{

    // Constructor
    public PortScanner()
    {
        this.setTitle("Port Scanner");
        this.setClosable(true);
        this.setDefaultCloseOperation(JInternalFrame.DISPOSE_ON_CLOSE);
        this.setResizable(false);
        this.setIconifiable(true);
        this.setSize(400, 400);
        this.setVisible(true);
        scan();
    }

    // Scan the server for open ports
    public void scan()
    {
        if (isPortActive("127.0.0.1", 80))
        {
            System.out.println("Server 127.0.0.1 has Port 80 active!");
        }
        else if (isPortActive("10.34.162.38", 80))
        {
            System.out.println("Server 10.34.162.38 has Port 80 active!");
        }
        else
        {
            System.out.println("Server 127.0.0.1 does not have Port 80 active!");
            System.out.println("OR");
            System.out.println("Server 10.34.162.38 does not have Port 80 active!");
        }
    }

    //    Check to see if the port is active
    private boolean isPortActive(String target, int port)
    {
        // All method based base types
        boolean isActive = false;

        // All method based objects
        Socket skt = null;

        try
        {
            skt = new Socket(target, port);
            skt.close();
            isActive = true;
        }
        catch(Exception ex)
        {
            System.out.println("Server does not have Port 80 active!");
        }

        return isActive;
    }
}
